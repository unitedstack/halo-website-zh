<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>HALO</title>
  <link rel="stylesheet" href="assets/css/index.css" type="text/css" />
  <link rel="stylesheet" href="assets/css/syntax.css" type="text/css" />
</head>
<body>
<header class="nav-header">
  <div class="inner-center">
    <a href="/" class="halo-logo"><img src="img/halo-logo.png"></a>
    <ul class="breadcrumb">
      <li class="item"><a href="/framework/system-framework.html">架构</a></li>
      <li class="item"><a href="/started/started.html">快速开始</a></li>
      <li class="item"><a href="/develop/font-develop.html">开发</a></li>
      <li class="item"><a href="/about/about">关于</a></li>
    </ul>
    <p class="doc">文档中心</p>
  </div>
</header>

<header class="nav-header-mobile">
  <div class="inner-center-mobile">
    <div class="header-left">
        <a href="/" class="skip" ><img src="img/halo-logo.png" class="logo"></a>
        <div id="x-open" class="x-wrapper">
          <div class="x-1"></div>
          <div class="x-2"></div>
        </div>
    </div>
    <ul id="header-center" class="header-center">
      <li class="multi-dropdown">
        <a href="javascript:void(0)" class="firsta">
          架构
          <i class="icon-arrow-down"><img src="img/down.png"></i>
        </a>
        <div class="dropdown-wrapper">
          <ul class="dropdown">
            <li class="multi select">
              <a href="javascript:void(0)">
                介绍
                <i class="icon-arrow-down"><img src="img/down.png"></i></i>
              </a>
              <ul class="child-dropdown">
                <li><a href="/framework/source">起源</a></li>
                <li><a href="/framework/idea">理念</a></li>
              </ul>
            </li>
            <li class="multi">
              <a href="javascript:void(0)">
                架构
                <i class="icon-arrow-down"><img src="img/down.png"></i></i>
              </a>
              <ul class="child-dropdown">
                <li><a href="/framework/system-framework">系统架构</a></li>
                <li><a href="/framework/deploy-framework">部署架构</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </li>
      
      <li>
        <a href="javascript:void(0)" class="firsta">
          快速开始
          <i class="icon-arrow-down"><img src="img/down.png"></i></i>
        </a>
        <div class="dropdown-wrapper">
          <ul class="dropdown">
            <li><a href="/started/started">快速开始</a></li>
            <li><a href="/started/deployment">服务器端部署</a></li>
            <li><a href="/started/scripts">更多命令</a></li>
          </ul>
        </div>
      </li>

      <li class="multi-dropdown">
        <a href="javascript:void(0)" class="firsta">开发
        <i class="icon-arrow-down"><img src="img/down.png"></i></i></a>
        <div class="dropdown-wrapper">
          <ul class="dropdown">
            <li class="multi select">
              <a href="javascript:void(0)">
                配置<i class="icon-arrow-down"><img src="img/down.png"></i></i>
              </a>
              <ul class="child-dropdown">
                <li><a href="/develop/config">环境配置</a></li>
                <li><a href="/develop/mirana">消息推送配置</a></li>
                <li><a href="/develop/menu">菜单配置</a></li>
                <li><a href="/develop/model">应用配置</a></li>
                <li><a href="/develop/popup">弹窗配置</a></li>
              </ul>
            </li>
            <li class="multi">
              <a href="javascript:void(0)">开发<i class="icon-arrow-down"><img src="img/down.png"></i></i></a>
              <ul class="child-dropdown">
                <li><a href="/develop/font-develop">前端开发</a></li>
                <li><a href="/develop/after-develop">后端开发</a></li>
              </ul>
            </li>
            <li class="multi">
              <a href="javascript:void(0)">附录</a>
              <ul class="child-dropdown">
                <li><a href="/develop/learning-materials">研发学习资料</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </li>

      <li>
        <a href="javascript:void(0)" class="firsta">
          关于
          <i class="icon-arrow-down"><img src="img/down.png"></i></i>
        </a>
        <div class="dropdown-wrapper">
          <ul class="dropdown">
            <li><a href="/about/about">关于我们</a></li>
            <li><a href="https://www.ustack.com/">有云官网</a></li>
          </ul>
        </div>
      </li>
    </ul>
  </div>
  <p class="mobile-doc">文档中心</p>
</header>
<div class="whole-page">
  <div class="site-page-slidebar">
    <div class="site-menu">
  
    <div class="site-menu-block">
      <div class="site-menu-links">
        
          <ul >
            <p class="slidebar-title">介绍</p>
            
              <li >
                <a href=/framework/source.html>起源</a>
              </li>
            
              <li >
                <a href=/framework/idea.html>理念</a>
              </li>
            
          </ul>
        
          <ul >
            <p class="slidebar-title">架构</p>
            
              <li >
                <a href=/framework/system-framework.html>系统架构</a>
              </li>
            
              <li >
                <a href=/framework/deploy-framework.html>部署架构</a>
              </li>
            
          </ul>
        
      </div>
    </div>
  
</div>

            
    <div class="site-content">
      <h2 id="理念">理念</h2>

<p>HALO是一种SPA(Single Page Applciation)页面，其意味着加载单个HTML 页面并在用户与应用程序交互时动态更新该页面的Web应用程序。考虑到实现时，HALO存在着以下潜在的问题。</p>

<ul>
  <li>整个项目非常大，依赖的包多</li>
  <li>前端文件太大可能会超过预期，影响加载速度和初始化速度</li>
  <li>逻辑复杂，交互部分的实现较为棘手</li>
  <li>需要维护大量的数据来保持页面正确的更新</li>
</ul>

<p>为了实现业务，同时避免上述问题的出现，我们对HALO进行了严谨的架构设计，具体参考<a href="/framework/system-framework.html">系统架构</a> 和<a href="/framework/deploy-framework.html">部署架构</a>。</p>

<p>前端采用<a href="https://facebook.github.io/react/">React</a>框架，是一款基于基于JavaScript的用户界面库。采用React库不仅仅是因为它是最流行的前端框架之一，而是它提出的virtual DOM概念可以把复杂的界面组件化，每个组件只需要维护自身视图，根据接收的数据相应改变界面和变换交互。已virtual DOM的方式拆分页面组件并组合成SPA可以大幅度减少代码量，同时确保数据流传输正确无误。除此之外，React利用它的生命周期对DOM更新进行了优化，相同数据的情况下不会进行DOM更新，当数据发生变化时，只对有变化的部分进行DOM更新，保证大量的数据显示和更新的流畅性得到一定的优化和保障。</p>

<p>就如同在浏览器中一样，现在我们也可以在服务器上运行JavaScript，从前端跨越到后端，这样巨大的反差让人难以想象，但NodeJS可以做到这一切。Node.js 的主要思路是：使用非阻塞的，事件驱动的 I/O 操作来保持在处理跨平台 (across distributed devices) 数据密集型实时应用时的轻巧高效。这听起来有点绕口。Node 真正的亮点在于建设高性能，高扩展性的互联网应用——因为它能够处理庞大的并且高吞吐量的并发连接。这也是我们后端采用Node的重要原因。</p>

<!-- ![idea](/img/framework/nodejs_flow.png) -->
<p style="text-align: center">
  <img src="img/framework/nodejs_flow.png" style="width: 400px; max-width: 100%" />
</p>

<p>它的工作原理是相当有趣的。传统的网络服务技术，是每个新增一个连接（请求）便生成一个新的线程，这个新的线程会占用系统内存，最终会占掉所有的可用内存。而 Node.js 仅仅只运行在一个单线程中，使用非阻塞的异步 I/O 调用，所有连接都由该线程处理，在 libuv 的加分下，可以允许其支持数万并发连接（全部挂在该线程的事件循环中）。</p>

<p>对技术选型的严禁筛选以外，我们还对项目进行了拆分：kunkka负责打包管理、HALO负责通用逻辑代码、USkin为页面组件的集合、dashboard/admin等项目是每个可视化单独应用，应用之间互不干扰，具体文件及代码结构可以参考<a href="/framework/system-framework.html">前端开发指南</a>。</p>

      <div class="docs-prevnext">
        
        
     </div>
    </div>
  </div>
</div>
<footer class="nav-footer">
  <section class="sitemap">
  <div class="left">
    <a href="https://www.ustack.com" class="skip" ><img src="img/footer-ustack-logo.png" class="ustack-logo"></a>
    <a href="/" class="skip" ><img src="img/footer-halo-logo.png" class="halo-logo"></a>
    <p class="copyright">Copyright © 2017</p>
    <p class="underline">MIT License</p>
  </div>
  <div class="right">
    <div>
      <h5>架构</h5>
      <a href="/framework/source.html">起源</a>
      <a href="/framework/idea.html">理念</a>
      <a href="/framework/system-framework.html">系统架构</a>
      <a href="/framework/deploy-framework.html">部署架构</a>
    </div>
    <div>
      <h5>快速开始</h5>
      <a href="/started/started.html">快速开始</a>
      <a href="started/deployment.md">服务器端部署</a>
      <a href="/started/scripts.html">更多命令</a>
    </div>
    <div>
      <h5>配置</h5>
      <a href="/develop/config.html">环境配置</a>
      <a href="/develop/mirana.html">消息推送配置</a>
      <a href="/develop/menu.html">菜单配置</a>
      <a href="/develop/model.html">应用配置</a>
      <a href="/develop/popup.html">弹窗配置</a>
    </div>
    <div>
      <h5>开发</h5>
      <a href="/develop/font-develop.html">前端开发</a>
      <a href="/develop/after-develop.html">后端开发</a>
      <a href="/develop/learning-materials.html">研发学习资料</a>
    </div>
    <div>
      <h5>公司</h5>
      <a href="/react/blog/"></a>
      <a href="/about/about">关于我们</a>
      <a href="https://www.ustack.com/">有云官网</a>
    </div>
  </div>
  </section>
</footer>

<footer class="mobile-footer">
  <ul>
    <li><a href="/framework/system-framework.html">架构</a></li>
    <li><a href="/started/started.html">快速开始</a></li>
    <li><a href="/develop/font-develop.html">开发</a></li>
    <li><a href="/about/about">关于</a></li>
    <li><a href="https://www.ustack.com/">有云官网</a></li>
  </ul>
  <div class="identification">
    <p class="copyright">Copyright © 2017</p>
    <p class="underline">MIT License</p>   
  </div>
</footer>
<script src="/js/jquery-3.2.1.min.js"></script>
<script src="/js/control.js"></script>

</body>
</html>